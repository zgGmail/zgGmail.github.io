(function(t){function s(s){for(var a,r,o=s[0],l=s[1],c=s[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(s);while(m.length)m.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,s=0;s<i.length;s++){for(var e=i[s],a=!0,o=1;o<e.length;o++){var l=e[o];0!==n[l]&&(a=!1)}a&&(i.splice(s--,1),t=r(r.s=e[0]))}return t}var a={},n={app:0},i=[];function r(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=a,r.d=function(t,s,e){r.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,s){if(1&s&&(t=r(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)r.d(e,a,function(s){return t[s]}.bind(null,a));return e},r.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(s,"a",s),s},r.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=s,o=o.slice();for(var c=0;c<o.length;c++)s(o[c]);var u=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"034f":function(t,s,e){"use strict";var a=e("85da"),n=e.n(a);n.a},"080b":function(t,s,e){"use strict";var a=e("7d8a"),n=e.n(a);n.a},"0a64":function(t,s,e){"use strict";var a=e("f332"),n=e.n(a);n.a},"0ab7":function(t,s,e){},"13e0":function(t,s,e){},"1c8c":function(t,s,e){"use strict";var a=e("8410"),n=e.n(a);n.a},2002:function(t,s,e){},2129:function(t,s,e){"use strict";var a=e("612a"),n=e.n(a);n.a},3189:function(t,s,e){"use strict";var a=e("13e0"),n=e.n(a);n.a},"390d":function(t,s,e){},"3c03":function(t,s,e){"use strict";var a=e("c12c"),n=e.n(a);n.a},"56d7":function(t,s,e){"use strict";e.r(s);var a=e("6e6d"),n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("router-view"),e("MiniPlayer")],1)},i=[],r=(e("034f"),e("6691")),o={},l=Object(r["a"])(o,n,i,!1,null,null,null),c=l.exports,u=e("c478"),d=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.a?e("div",{attrs:{id:"rank"}},t._l(t.data,function(s,a){return e("div",{key:a,staticClass:"rankList"},[e("router-link",{attrs:{to:"/songrank/"+s.id}},[e("div",{staticClass:"rank-info"},[e("div",{staticClass:"img"},[e("img",{staticClass:"jp",attrs:{src:s.picUrl,alt:""}}),e("span",{staticClass:"count"},[t._v(t._s(t._f("fliterNum")(s.listenCount)))])]),e("div",{staticClass:"song-rank"},[e("div",{staticClass:"box"},[e("h3",[t._v(t._s(s.title))]),e("ul",t._l(s.songList,function(s,a){return e("li",{key:a},[e("span",{staticClass:"num"},[t._v(t._s(s.number))]),e("span",{staticClass:"song"},[t._v(t._s(s.songName))]),t._v(" - \n                                 "),e("span",{staticClass:"singer"},[t._v(t._s(t._f("fliterName")(s.singerName)))])])}),0)])])])])],1)}),0):t._e()},m=[],g={name:"",data(){return{data:[],a:!1,arr:"12345678"}},created(){this.$axios.get("https://music.niubishanshan.top/api/v2/music/toplist").then(t=>{this.data=t.data.data,this.a=!0,console.log(t.data)}).catch(function(t){console.log(t)}),this.arr.split(""),console.log(this.arr)},filters:{fliterName(t){return t.length>10?t.substring(0,5)+"...":t},fliterNum(t){t+="";var s=t.split(""),e=s.length;return s[e-4]>=5&&(s[e-5]++,s[e-4]=0),s.splice(-4,0,"."),s.splice(-4,3),s.join("")+"万"}}},h=g,p=(e("5dba"),Object(r["a"])(h,d,m,!1,null,"b95473de",null)),f=p.exports,v=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"recommend"}},[e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},t._l(t.data.slider,function(t,s){return e("div",{key:s,staticClass:"swiper-slide"},[e("img",{attrs:{src:t,alt:""}})])}),0),e("div",{staticClass:"swiper-pagination"})]),t.show?e("div",{staticClass:"radiobox"},[e("p",{staticClass:"title"},[t._v("电台")]),e("div",{staticClass:"boxwrap"},[e("router-link",{staticClass:"box",attrs:{to:"/songrank/"+t.data.radioList[0].id}},[e("div",{staticClass:"box"},[e("img",{attrs:{src:t.data.radioList[0].picUrl,alt:""}}),e("p",{staticClass:"boxtitle"},[t._v(t._s(t.data.radioList[0].title))])])]),e("div",{staticClass:"boxc"}),e("router-link",{staticClass:"box",attrs:{to:"/songrank/"+t.data.radioList[0].id}},[e("div",{staticClass:"box"},[e("img",{attrs:{src:t.data.radioList[1].picUrl,alt:""}}),e("p",{staticClass:"boxtitle"},[t._v(t._s(t.data.radioList[1].title))])])])],1)]):t._e(),t._m(0)])},_=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("footer",[e("p",[t._v("更多请下载正版QQ音乐APP")]),e("div",{staticClass:"logo"},[e("img",{attrs:{src:"//y.gtimg.cn/mediastyle/mod/mobile/img/logo_ch.svg?max_age=2592000",alt:""}})]),e("p",[t._v("Copyright © xxxx - xxxx xxxxxx. All Rights Reserved.")]),e("p",[t._v("联系电话：xxxx-xxxxxxxx QQ群：xxxxxxx")])])}],b=e("3677"),y=(e("7fc4"),{name:"",data(){return{data:{},show:!1}},mounted(){new b["a"](".swiper-container",{autoplay:!0,observer:!0,observeParents:!0,pagination:{el:".swiper-pagination"}})},created(){this.$axios.get("https://music.niubishanshan.top/api/v2/music/recommend").then(t=>{this.data=t.data.data,this.show=!0}).catch(function(t){console.log(t)})}}),$=y,x=(e("add4"),Object(r["a"])($,v,_,!1,null,"6763fe7c",null)),C=x.exports,w=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"Search"}},[e("div",{staticClass:"inputwrap"},[e("span",{staticClass:"iconfont search"},[t._v("")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputvalue,expression:"inputvalue"}],ref:"input",staticClass:"input",attrs:{type:"text",placeholder:"搜索歌曲，歌单，专辑"},domProps:{value:t.inputvalue},on:{keyup:t.ShowKey,focus:t.ShowSpan,input:function(s){s.target.composing||(t.inputvalue=s.target.value)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.val,expression:"val"}],ref:"delete",staticClass:"iconfont close",on:{click:t.deleteVal}},[t._v("")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"close",staticClass:"showspan",on:{click:t.hiddeSpan}},[t._v("取消")])]),e("ul",{staticClass:"songlist"},[t.issingername?e("router-link",{staticClass:"singerTop song",attrs:{to:"/singer/"+t.inputvalue,tag:"li"}},[e("span",[e("img",{attrs:{src:t.singerURL,alt:""}})]),e("div",{staticClass:"info"},[e("p",{staticClass:"singer-info"},[t._v(t._s(this.inputvalue))]),e("p",{staticClass:"singer"},[t._v("歌手")])])]):t._e(),t._l(t.data.songList,function(s,a){return e("li",{key:a,staticClass:"song",on:{click:function(e){return t.play(s)}}},[e("span",{staticClass:"iconfont music"},[t._v("")]),e("div",{staticClass:"info"},[e("p",{staticClass:"song-name"},[t._v(t._s(s.songName))]),e("p",{staticClass:"singer"},t._l(s.singer,function(s,a){return e("span",{key:a},[t._v("\n                         "+t._s(s.singerName)+" \n                     ")])}),0)])])}),t.val?e("router-link",{staticClass:"link",attrs:{to:"/"+t.u+"/"+t.inputvalue,tag:"li"}},[t._v("查看更多")]):t._e()],2)])},I=[],k=e("b27f"),N={name:"",data(){return{show:!1,val:!1,data:{},singerData:{},inputvalue:"",setTimeOutId:null,issingername:!1,singerURL:"",u:"song"}},methods:{ShowSpan(){this.$refs.delete.style.right="75px",event.target.style.width="85%",this.show=!0},updatainput(){if(""!=this.$refs.input.value){this.id=this.$route.params.id;let t="https://music.niubishanshan.top/api/v2/music/search/"+this.inputvalue+"/1/5";this.$axios.get(t).then(s=>{this.data=s.data.data,console.log(this.data),this.singer(),this.issingername&&this.$axios.get(t)}).catch(function(t){console.log(t)})}else this.issingername=!1,this.data={}},ShowKey(){this.val=!0,Object(k["clearTimeout"])(this.setTimeOutId),this.setTimeOutId=Object(k["setTimeout"])(()=>{this.updatainput()},1e3)},hiddeSpan(){this.$refs.delete.style.right="23px",this.$refs.input.style.width="100%",this.$refs.delete.style.right="23px",this.show=!1,this.data={},this.inputvalue="",this.val=!1},deleteVal(){this.$refs.input.value="",this.val=!1},singer(){let t,s;for(let a=0;a<this.data.songList.length;a++){let e=this.data.songList[a].singer;for(let n=0;n<e.length;n++)this.inputvalue==e[n].singerName?(this.issingername=!0,this.u="singer",t=this.data.songList[a].albumMid,s=e[n].singerMid):this.issingername=!1}let e="https://music.niubishanshan.top/api/v2/music/albumImg/"+t+"/"+s+"/";this.$axios.get(e).then(t=>{this.singerURL=t.data.data.singerAvatarUrl}).catch(function(t){console.log(t)})},play(t){this.$store.state.isplay=!0;var s=document.getElementById("audio");s.currentTime=0;document.getElementById("slider");var e=document.getElementById("progress");this.$store.dispatch("GetSongInfo",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName}),this.$store.dispatch("GetSongUrl",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName});var a,n,i=this;function r(){var t=s.duration,o=s.currentTime;a=o/t*100,a<100?(e.style.width=a+"%",n=requestAnimationFrame(r),i.$store.commit("change",{progressNum:a,id:n})):cancelAnimationFrame(n)}Object(k["setTimeout"])(()=>{r()},500)}}},M=N,L=(e("3189"),Object(r["a"])(M,w,I,!1,null,"29406f90",null)),O=L.exports,S=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:""}},[e("mynav"),e("router-view")],1)},E=[],j=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"nav"}},[t._m(0),e("ul",{staticClass:"linkList"},[e("router-link",{attrs:{to:"/recommend",tag:"li"}},[t._v("推荐")]),e("router-link",{attrs:{to:"/rank",tag:"li"}},[t._v("排行榜")]),e("router-link",{attrs:{to:"/search",tag:"li"}},[t._v("搜索")])],1)])},U=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:"http://y.gtimg.cn/mediastyle/mod/mobile/img/logo_ch.svg",alt:""}})])}],A={name:"",data(){return{}}},T=A,P=(e("1c8c"),Object(r["a"])(T,j,U,!1,null,"32a1cea2",null)),B=P.exports,F={name:"",data(){return{}},components:{mynav:B}},G=F,q=Object(r["a"])(G,S,E,!1,null,"0ae0addc",null),R=q.exports,Q=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.show?e("div",{attrs:{id:"songlist"}},[e("header",[e("span",{staticClass:"iconfont back",on:{click:t.back}},[t._v("")]),e("img",{attrs:{src:"https://y.gtimg.cn/music/common/upload/t_playsong_ad/1207759.png?max_age=2592000",alt:""}})]),e("div",{staticClass:"bg"},[e("img",{attrs:{src:t.data.topInfo.picAlbum,alt:""}})]),e("div",{staticClass:"info"},[e("p",{staticClass:"title"},[t._v(t._s(t.data.topInfo.listName))]),e("p",{staticClass:"day"},[t._v("流行指数榜")]),e("p",{staticClass:"updata"},[t._v("更新时间："+t._s(t.data.updateTime))]),t._m(0)]),e("ul",{staticClass:"songList"},[e("li",{staticClass:"total"},[t._v("排行榜 共"+t._s(t.data.totalSongNum)+"首")]),t._l(t.data.songList,function(s,a){return e("li",{key:a,staticClass:"song-info",on:{click:function(e){return t.play(s)}}},[e("span",{staticClass:"num"},[t._v(t._s(a+1))]),e("div",{staticClass:"center"},[e("p",{staticClass:"song-name"},[t._v(t._s(s.songName))]),e("p",{staticClass:"singer"},t._l(s.singer,function(s,a){return e("span",{key:a},[t._v("\n                         "+t._s(s.singerName)+" \n                     ")])}),0)]),t._m(1,!0)])})],2)]):t._e()},W=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",[e("span",{staticClass:"iconfont"},[t._v("")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"download"},[e("span",{staticClass:"iconfont"},[t._v("")])])}],z={name:"",data(){return{id:Number,data:{},show:!1,rotate:0,frameId:0}},created(){this.id=this.$route.params.id,this.$axios.get("https://music.niubishanshan.top/api/v2/music/songList/"+this.id).then(t=>{this.data=t.data.data,this.show=!0}).catch(function(t){console.log(t)})},methods:{back(){this.$router.go(-1)},play(t){this.$store.state.isplay=!0;var s=document.getElementById("audio");s.currentTime=0;document.getElementById("slider");var e=document.getElementById("progress");this.$store.dispatch("GetSongInfo",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName}),this.$store.dispatch("GetSongUrl",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName}),this.$store.dispatch("GetLrc",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName}),console.log(t);var a,n,i=this.$store.state.LrcArr,r=this;Object(k["setTimeout"])(()=>{l()},500);var o=0;function l(){var t=s.duration,c=s.currentTime;if(a=c/t*100,e.style.width=a+"%",n=requestAnimationFrame(l),r.$store.commit("change",{progressNum:a,id:n}),a<100)for(let s=o;s<i.length;s++)c>i[s].time&&(r.$store.state.nowIndex=s,r.$store.state.nowObj=i[s],o=s);else cancelAnimationFrame(n)}}}},D=z,J=(e("66fa"),Object(r["a"])(D,Q,W,!1,null,"92cd68c0",null)),K=J.exports,V=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.show?e("div",{attrs:{id:"songlist"}},[e("header",[e("span",{staticClass:"iconfont back",on:{click:t.back}},[t._v("")]),e("img",{attrs:{src:"https://y.gtimg.cn/music/common/upload/t_playsong_ad/1207759.png?max_age=2592000",alt:""}})]),e("ul",{staticClass:"songList"},t._l(t.data.songList,function(s,a){return e("li",{key:a,staticClass:"song-info",on:{click:function(e){return t.play(s)}}},[e("span",{staticClass:"num"},[t._v(t._s(a))]),e("div",{staticClass:"center"},[e("p",{staticClass:"song-name"},[t._v(t._s(s.songName))]),e("p",{staticClass:"singer"},t._l(s.singer,function(s,a){return e("span",{key:a},[t._v("\n                         "+t._s(s.singerName)+" \n                     ")])}),0)]),t._m(0,!0)])}),0)]):t._e()},Z=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"download"},[e("span",{staticClass:"iconfont"},[t._v("")])])}],H={name:"",data(){return{val:"",data:{},show:!0}},created(){this.val=this.$route.params.val;let t="https://music.niubishanshan.top/api/v2/music/search/"+this.val+"/1/30";this.$axios.get(t).then(t=>{this.data=t.data.data,this.show=!0}).catch(function(t){console.log(t)})},methods:{back(){this.$router.go(-1)},play(t){this.$store.state.isplay=!0;var s=document.getElementById("audio");s.currentTime=0;document.getElementById("slider");var e=document.getElementById("progress");this.$store.dispatch("GetSongInfo",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName}),this.$store.dispatch("GetSongUrl",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName});var a,n,i=this;function r(){var t=s.duration,o=s.currentTime;a=o/t*100,a<100?(e.style.width=a+"%",n=requestAnimationFrame(r),i.$store.commit("change",{progressNum:a,id:n})):cancelAnimationFrame(n)}setTimeout(()=>{r()},500)}}},X=H,Y=(e("0a64"),Object(r["a"])(X,V,Z,!1,null,"06425070",null)),tt=Y.exports,st=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.show?e("div",{attrs:{id:"songlist"}},[e("header",[e("span",{staticClass:"iconfont back",on:{click:t.back}},[t._v("")]),e("img",{attrs:{src:"https://y.gtimg.cn/music/common/upload/t_playsong_ad/1207759.png?max_age=2592000",alt:""}})]),e("div",{staticClass:"bg"},[e("img",{attrs:{src:t.url,alt:""}}),e("p",{staticClass:"title"},[t._v(t._s(t.singername))])]),t._m(0),e("ul",{staticClass:"songList"},t._l(t.data.songList,function(s,a){return e("li",{key:a,staticClass:"song-info",on:{click:function(e){return t.play(s)}}},[e("span",{staticClass:"num"},[t._v(t._s(a+1))]),e("div",{staticClass:"center"},[e("p",{staticClass:"song-name"},[t._v(t._s(s.songName))]),e("p",{staticClass:"singer"},t._l(s.singer,function(s,a){return e("span",{key:a},[t._v("\n                         "+t._s(s.singerName)+" \n                     ")])}),0)]),t._m(1,!0)])}),0)]):t._e()},et=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"info"},[e("button",[e("span",{staticClass:"iconfont"},[t._v("")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"download"},[e("span",{staticClass:"iconfont"},[t._v("")])])}],at={name:"",data(){return{val:"",data:{},url:"",singername:"",show:!0}},created(){this.val=this.$route.params.val;let t="https://music.niubishanshan.top/api/v2/music/search/"+this.val+"/1/30";this.$axios.get(t).then(t=>{this.data=t.data.data,this.singername=this.data.songList[0].singer[0].singerName}).then(t=>{let s="https://music.niubishanshan.top/api/v2/music/albumImg/"+this.data.songList[0].albumMid+"/"+this.data.songList[0].singer[0].singerMid;this.$axios.get(s).then(t=>{this.url=t.data.data.singerAvatarUrl,this.show=!0})}).catch(function(t){console.log(t)})},methods:{back(){this.$router.go(-1)},play(t){this.$store.state.isplay=!0;var s=document.getElementById("audio");s.currentTime=0;document.getElementById("slider");var e=document.getElementById("progress");this.$store.dispatch("GetSongInfo",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName}),this.$store.dispatch("GetSongUrl",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName});var a,n,i=this;function r(){var t=s.duration,o=s.currentTime;a=o/t*100,a<100?(e.style.width=a+"%",n=requestAnimationFrame(r),i.$store.commit("change",{progressNum:a,id:n})):cancelAnimationFrame(n)}setTimeout(()=>{r()},500)}}},nt=at,it=(e("080b"),Object(r["a"])(nt,st,et,!1,null,"2a2c05de",null)),rt=it.exports,ot=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.show?e("div",{attrs:{id:"songlist"}},[e("header",[e("span",{staticClass:"iconfont back",on:{click:t.back}},[t._v("")]),e("h3",{staticClass:"songname"},[t._v(t._s(this.$store.state.songName))]),e("h4",[t._v("--"+t._s(this.$store.state.singerName)+"--")]),e("img",{attrs:{src:"https://y.gtimg.cn/music/common/upload/t_playsong_ad/1207759.png?max_age=2592000",alt:""}})]),e("div",{staticClass:"bg"},[e("img",{attrs:{src:this.$store.state.albumImgUrl,alt:""}})]),e("div",{staticClass:"wrap"},[e("transition",[e("ul",{ref:"ul"},t._l(this.$store.state.LrcArr,function(s,a){return e("li",{key:a,ref:"litext",refInFor:!0},[t._v("\n                     "+t._s(s.text)+"\n                 ")])}),0)])],1)]):t._e()},lt=[],ct={name:"",data(){return{id:Number,data:{},show:!0,rotate:0,frameId:0,bol:!1,len:0}},created(){var t=this.$store.state.LrcArr,s=this,e=document.getElementById("audio"),a=document.getElementById("miniPlayer");function n(){e.duration;var a=e.currentTime;for(let e=s.len;e<t.length;e++)a>t[e].time&&(s.len=e,s.$refs.ul.style.top=-41*e+"px",s.$refs.litext[e].style.color="#31c27c",s.$refs.litext[e].style.fontSize="20px",s.$refs.litext[e].style.fontWeight="700",Object(k["setTimeout"])(()=>{s.$refs.litext[e].style.color="rgb(112,112,112)",s.$refs.litext[e].style.fontSize="16px",s.$refs.litext[e].style.fontWeight="normal"},500));s.frameId=requestAnimationFrame(n)}a.style.display="none",cancelAnimationFrame(this.frameId),Object(k["setTimeout"])(()=>{n()},250)},computed:{},watch:{},methods:{back(){this.$router.go(-1)},isActive(t){return t.text==this.$store.state.nowText}},updated(){},beforeDestroy(){var t=document.getElementById("miniPlayer");t.style.display="block"}},ut=ct,dt=(e("2129"),Object(r["a"])(ut,ot,lt,!1,null,"9b8be6ea",null)),mt=dt.exports;a["a"].use(u["a"]);var gt=new u["a"]({routes:[{path:"/",name:"",redirect:"/home"},{path:"/home",component:R,children:[{path:"/",name:"",redirect:"/recommend"},{path:"/rank",name:"Rank",component:f,children:[]},{path:"/recommend",name:"Recommend",component:C},{path:"/search",name:"Search",component:O}]},{path:"/songrank/:id",name:"songrank",component:K},{path:"/song/:val",name:"song",component:tt},{path:"/singer/:val",name:"",component:rt},{path:"/lrc:id",name:"",component:mt}]}),ht=e("591a"),pt=e("2427"),ft=e.n(pt);a["a"].use(ht["a"]),a["a"].prototype.$axios=ft.a;var vt=new ht["a"].Store({state:{albumImgUrl:"",singerAvatarUrl:"",songName:"",singerName:"",songUrl:"",isplay:!0,progressNum:0,frameId:0,rotateframeId:0,LrcArr:[],i:0,nowObj:{}},mutations:{SongInfo(t,s){},SongInfo(t,s){t.songUrl=s},change(t,s){t.progressNum=s.progress,t.frameId=s.id},nowObj(t,s){t.nowObj=s,console.log(s)}},actions:{GetSongInfo(t,s){let e="https://music.niubishanshan.top/api/v2/music/albumImg/"+s.albumMid+"/"+s.singer[0].singerMid+"/";ft.a.get(e).then(e=>{t.state.songName=s.songName,t.state.singerName=s.singer[0].singerName,t.state.albumImgUrl=e.data.data.albumImgUrl,t.state.singerAvatarUrl=e.data.data.singerAvatarUrl,t.commit("SongInfo",e.data)}).catch(function(t){})},GetSongUrl(t,s){console.log(s);let e="https://music.niubishanshan.top/api/v2/music/songUrllist/"+s.songMid;ft.a.get(e).then(s=>{t.commit("SongInfo",s.data.data)}).catch(function(t){})},GetLrc(t,s){let e="https://music.niubishanshan.top/api/v2/music/lrc/"+s.songId;ft.a.get(e).then(s=>{t.state.Lrc=s.data.data.lyric.replace(/\[换行\]/g,"$");var e=t.state.Lrc.split("$");let a,n,i,r,o;t.state.LrcArr=[];for(let l=0;l<e.length;l++)l>=5&&(o=e[l].indexOf("]"),r=e[l].slice(o+1,e.length),i=e[l].slice(0,o+1).replace(/\[/g,"").replace(/\]/g,"").split(":"),n=60*i[0]+1*i[1],a={time:n,text:r},t.state.LrcArr.push(a));console.log(t.state.LrcArr)}).catch(function(t){})}}}),_t=(e("a342"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"miniPlayer"}},[e("div",{staticClass:"wrap"},[e("router-link",{attrs:{to:"/lrc:id"}},[e("div",{staticClass:"img"},[e("img",{ref:"img",attrs:{src:t.albumImgUrl,alt:"",id:"rotateimg"}})]),e("audio",{ref:"audio",attrs:{src:t.songUrl,autoplay:"",id:"audio"}}),e("p",{staticClass:"info"},[e("span",[t._v(t._s(t.songName))]),t._v("- "),e("span",[t._v(t._s(t.singerName))])])]),e("div",{staticClass:"contral",on:{click:function(s){return s.stopPropagation(),t.toggle(s)}}},[this.$store.state.isplay?e("span",{staticClass:"iconfont"},[t._v("")]):t._e(),this.$store.state.isplay?t._e():e("span",{staticClass:"iconfont"},[t._v("")])]),e("div",{ref:"slider",staticClass:"slider",staticStyle:{width:"100%"},attrs:{id:"slider"},on:{click:t.progress}},[e("div",{ref:"progress",staticClass:"progress",attrs:{id:"progress"}},[e("div",{ref:"bar",staticClass:"bar",attrs:{id:"bar"}})])])],1)])}),bt=[],yt={name:"",data(){return{show:!1,isPlay:!1,percent:0,duration:0,currentTime:0,rotate:0,frameId:0,nowCurrentTime:0}},computed:{albumImgUrl(){return""!=this.$store.state.songName?this.$store.state.albumImgUrl:"https://y.gtimg.cn/music/common/upload/t_playsong_ad/1207759.png?max_age=2592000"},songUrl(){return this.$store.state.songUrl},songName(){return""!=this.$store.state.songName?this.$store.state.songName:"你还没有选择歌曲"},singerName(){return""!=this.$store.state.songUrl?this.$store.state.singerName:""}},methods:{toggle(){if(console.log(this.songUrl),0==this.$store.state.isplay){this.$refs.audio.play(),this.$store.state.isplay=!this.$store.state.isplay;var t=this;function s(){t.frameId=t.$store.state.rotateframeId,t.rotate+=.25,t.$refs.img.style.transform=`translate(0,-70%) rotateZ(${t.rotate}deg)`,t.frameId=requestAnimationFrame(s)}s()}else cancelAnimationFrame(this.frameId),this.$refs.audio.pause(),this.$store.state.isplay=!this.$store.state.isplay},progress(){this.$refs.progress;let t=this.$refs.slider,s=this.$refs.audio;s.currentTime;let e=t.clientWidth,a=Math.round(event.x/e*100)/100;s.currentTime=s.duration*a}},watch:{songUrl(){cancelAnimationFrame(this.frameId);var t=this;function s(){t.frameId=t.$store.state.rotateframeId,t.rotate+=.25,t.$refs.img.style.transform=`translate(0,-70%) rotateZ(${t.rotate}deg)`,t.frameId=requestAnimationFrame(s)}s()}},created(){}},$t=yt,xt=(e("3c03"),Object(r["a"])($t,_t,bt,!1,null,"89b4b110",null)),Ct=xt.exports;a["a"].prototype.$axios=ft.a,a["a"].config.productionTip=!1,a["a"].component("MiniPlayer",Ct),new a["a"]({router:gt,store:vt,render:function(t){return t(c)}}).$mount("#app")},"5dba":function(t,s,e){"use strict";var a=e("2002"),n=e.n(a);n.a},"612a":function(t,s,e){},"66fa":function(t,s,e){"use strict";var a=e("390d"),n=e.n(a);n.a},"7d8a":function(t,s,e){},8410:function(t,s,e){},"85da":function(t,s,e){},a342:function(t,s,e){},add4:function(t,s,e){"use strict";var a=e("0ab7"),n=e.n(a);n.a},c12c:function(t,s,e){},f332:function(t,s,e){}});
//# sourceMappingURL=app.dba58f97.js.map