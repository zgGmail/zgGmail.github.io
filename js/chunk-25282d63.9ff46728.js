(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25282d63"],{"13e0":function(t,s,e){},3189:function(t,s,e){"use strict";var i=e("13e0"),a=e.n(i);a.a},c106:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"Search"}},[e("div",{staticClass:"inputwrap"},[e("span",{staticClass:"iconfont search"},[t._v("")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputvalue,expression:"inputvalue"}],ref:"input",staticClass:"input",attrs:{type:"text",placeholder:"搜索歌曲，歌单，专辑"},domProps:{value:t.inputvalue},on:{keyup:t.ShowKey,focus:t.ShowSpan,input:function(s){s.target.composing||(t.inputvalue=s.target.value)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.val,expression:"val"}],ref:"delete",staticClass:"iconfont close",on:{click:t.deleteVal}},[t._v("")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"close",staticClass:"showspan",on:{click:t.hiddeSpan}},[t._v("取消")])]),e("ul",{staticClass:"songlist"},[t.issingername?e("router-link",{staticClass:"singerTop song",attrs:{to:"/singer/"+t.inputvalue,tag:"li"}},[e("span",[e("img",{attrs:{src:t.singerURL,alt:""}})]),e("div",{staticClass:"info"},[e("p",{staticClass:"singer-info"},[t._v(t._s(this.inputvalue))]),e("p",{staticClass:"singer"},[t._v("歌手")])])]):t._e(),t._l(t.data.songList,function(s,i){return e("li",{key:i,staticClass:"song",on:{click:function(e){return t.play(s)}}},[e("span",{staticClass:"iconfont music"},[t._v("")]),e("div",{staticClass:"info"},[e("p",{staticClass:"song-name"},[t._v(t._s(s.songName))]),e("p",{staticClass:"singer"},t._l(s.singer,function(s,i){return e("span",{key:i},[t._v("\n                         "+t._s(s.singerName)+" \n                     ")])}),0)])])}),t.val?e("router-link",{staticClass:"link",attrs:{to:"/"+t.u+"/"+t.inputvalue,tag:"li"}},[t._v("查看更多")]):t._e()],2)])},a=[],n=e("b27f"),o={name:"",data(){return{show:!1,val:!1,data:{},singerData:{},inputvalue:"",setTimeOutId:null,issingername:!1,singerURL:"",u:"song"}},methods:{ShowSpan(){this.$refs.delete.style.right="75px",event.target.style.width="85%",this.show=!0},updatainput(){if(""!=this.$refs.input.value){this.id=this.$route.params.id;let t="https://music.niubishanshan.top/api/v2/music/search/"+this.inputvalue+"/1/5";this.$axios.get(t).then(s=>{this.data=s.data.data,console.log(this.data),this.singer(),this.issingername&&this.$axios.get(t)}).catch(function(t){console.log(t)})}else this.issingername=!1,this.data={}},ShowKey(){this.val=!0,Object(n["clearTimeout"])(this.setTimeOutId),this.setTimeOutId=Object(n["setTimeout"])(()=>{this.updatainput()},1e3)},hiddeSpan(){this.$refs.delete.style.right="23px",this.$refs.input.style.width="100%",this.$refs.delete.style.right="23px",this.show=!1,this.data={},this.inputvalue="",this.val=!1},deleteVal(){this.$refs.input.value="",this.val=!1},singer(){let t,s;for(let i=0;i<this.data.songList.length;i++){let e=this.data.songList[i].singer;for(let a=0;a<e.length;a++)this.inputvalue==e[a].singerName?(this.issingername=!0,this.u="singer",t=this.data.songList[i].albumMid,s=e[a].singerMid):this.issingername=!1}let e="https://music.niubishanshan.top/api/v2/music/albumImg/"+t+"/"+s+"/";this.$axios.get(e).then(t=>{this.singerURL=t.data.data.singerAvatarUrl}).catch(function(t){console.log(t)})},play(t){this.$store.state.isplay=!0;var s=document.getElementById("audio");s.currentTime=0;document.getElementById("slider");var e=document.getElementById("progress");this.$store.dispatch("GetSongInfo",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName}),this.$store.dispatch("GetSongUrl",{albumMid:t.albumMid,singer:t.singer,songId:t.songId,songMid:t.songMid,songName:t.songName});var i,a,o=this;function l(){var t=s.duration,n=s.currentTime;i=n/t*100,i<100?(e.style.width=i+"%",a=requestAnimationFrame(l),o.$store.commit("change",{progressNum:i,id:a})):cancelAnimationFrame(a)}Object(n["setTimeout"])(()=>{l()},500)}}},l=o,r=(e("3189"),e("6691")),u=Object(r["a"])(l,i,a,!1,null,"29406f90",null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-25282d63.9ff46728.js.map