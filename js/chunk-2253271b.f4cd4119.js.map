{"version":3,"sources":["webpack:///./src/components/SongRank.vue?304b","webpack:///./src/components/SongRank.vue?4bad","webpack:///src/components/SongRank.vue","webpack:///./src/components/SongRank.vue?2ddf","webpack:///./src/components/SongRank.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","back","_v","data","topInfo","picAlbum","_s","listName","updateTime","_m","totalSongNum","_l","item","index","key","$event","play","songName","singer","singerName","_e","staticRenderFns","name","id","Number","show","rotate","frameId","$route","params","$axios","get","then","res","catch","error","console","log","methods","$router","go","$store","state","isplay","audio","document","getElementById","currentTime","progress","dispatch","albumMid","songId","songMid","progressNum","arr","LrcArr","_this","frame","$len","duration","style","width","requestAnimationFrame","commit","i","length","time","nowIndex","nowObj","cancelAnimationFrame","component"],"mappings":"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","file":"js/chunk-2253271b.f4cd4119.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./SongRank.vue?vue&type=style&index=0&id=92cd68c0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./SongRank.vue?vue&type=style&index=0&id=92cd68c0&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{attrs:{\"id\":\"songlist\"}},[_c('header',[_c('span',{staticClass:\"iconfont back\",on:{\"click\":_vm.back}},[_vm._v(\"\")]),_c('img',{attrs:{\"src\":\"https://y.gtimg.cn/music/common/upload/t_playsong_ad/1207759.png?max_age=2592000\",\"alt\":\"\"}})]),_c('div',{staticClass:\"bg\"},[_c('img',{attrs:{\"src\":_vm.data.topInfo.picAlbum,\"alt\":\"\"}})]),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.data.topInfo.listName))]),_c('p',{staticClass:\"day\"},[_vm._v(\"流行指数榜\")]),_c('p',{staticClass:\"updata\"},[_vm._v(\"更新时间：\"+_vm._s(_vm.data.updateTime))]),_vm._m(0)]),_c('ul',{staticClass:\"songList\"},[_c('li',{staticClass:\"total\"},[_vm._v(\"排行榜 共\"+_vm._s(_vm.data.totalSongNum)+\"首\")]),_vm._l((_vm.data.songList),function(item,index){return _c('li',{key:index,staticClass:\"song-info\",on:{\"click\":function($event){return _vm.play(item)}}},[_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(index+1))]),_c('div',{staticClass:\"center\"},[_c('p',{staticClass:\"song-name\"},[_vm._v(_vm._s(item.songName))]),_c('p',{staticClass:\"singer\"},_vm._l((item.singer),function(singer,index){return _c('span',{key:index},[_vm._v(\"\\n                         \"+_vm._s(singer.singerName)+\" \\n                     \")])}),0)]),_vm._m(1,true)])})],2)]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"download\"},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n   <div id='songlist'  v-if=\"show\">\r\n       <header>\r\n           <span class=\"iconfont back\" @click=\"back\">&#xe79b;</span>\r\n           <img src=\"https://y.gtimg.cn/music/common/upload/t_playsong_ad/1207759.png?max_age=2592000\" alt=\"\">\r\n       </header>\r\n        <div class=\"bg\">\r\n            <img :src=\"data.topInfo.picAlbum\" alt=\"\">\r\n        </div>\r\n        <div class=\"info\">\r\n            <p class=\"title\">{{data.topInfo.listName}}</p>\r\n            <p class=\"day\">流行指数榜</p>\r\n            <p class=\"updata\">更新时间：{{data.updateTime}}</p>\r\n            <button><span class=\"iconfont\">&#xe60e;</span></button>\r\n        </div>\r\n\r\n        <ul class=\"songList\">\r\n            <li class=\"total\">排行榜 共{{data.totalSongNum}}首</li>\r\n            <li class=\"song-info\" v-for=\"(item,index) in data.songList\" :key=\"index\" @click=\"play(item)\">\r\n                <span class=\"num\">{{index+1}}</span>\r\n                <div class=\"center\">\r\n                    <p class=\"song-name\">{{item.songName}}</p>\r\n                    <p class=\"singer\">\r\n                        <span v-for=\"(singer,index) in item.singer\" :key=\"index\">\r\n                            {{singer.singerName}} \r\n                        </span>\r\n                    </p>\r\n                </div>\r\n                <div class=\"download\"><span class=\"iconfont\">&#xe679;</span></div>\r\n            </li>\r\n        </ul>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport { setTimeout } from 'timers';\r\n   export default {\r\n       name:'',\r\n       data(){\r\n            return{\r\n               id:Number,\r\n               data:{},\r\n               show:false,\r\n               rotate:0,\r\n               frameId:0\r\n            }\r\n       },\r\n       created(){\r\n           this.id=this.$route.params.id;\r\n           this.$axios.get(\"https://music.niubishanshan.top/api/v2/music/songList/\"+this.id)\r\n            .then((res)=>{\r\n                this.data=res.data.data;\r\n                this.show=true\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n       },\r\n       methods:{\r\n           back(){\r\n              this.$router.go(-1)\r\n           },\r\n           play(data){\r\n                this.$store.state.isplay=true\r\n                var audio= document.getElementById(\"audio\")\r\n                audio.currentTime=0\r\n                var slider= document.getElementById(\"slider\")\r\n                var progress= document.getElementById(\"progress\")\r\n                this.$store.dispatch('GetSongInfo',{\r\n                    albumMid:data.albumMid,\r\n                    singer:data.singer,\r\n                    songId: data.songId,\r\n                    songMid: data.songMid,\r\n                    songName: data.songName\r\n                })\r\n                this.$store.dispatch('GetSongUrl',{\r\n                    albumMid:data.albumMid,\r\n                    singer:data.singer,\r\n                    songId: data.songId,\r\n                    songMid: data.songMid,\r\n                    songName: data.songName\r\n                }) \r\n                this.$store.dispatch('GetLrc',{\r\n                    \r\n                    albumMid:data.albumMid,\r\n                    singer:data.singer,\r\n                    songId: data.songId,\r\n                    songMid: data.songMid,\r\n                    songName: data.songName\r\n                })\r\n                console.log(data);\r\n                var arr=this.$store.state.LrcArr;\r\n                var progressNum,id,_this=this;\r\n                setTimeout(()=>{\r\n                    frame()\r\n                    \r\n                },500)\r\n                \r\n                \r\n                var nowObj,$len=0;\r\n                function frame(){\r\n\r\n                    var duration=audio.duration\r\n                    var currentTime=audio.currentTime\r\n                    progressNum=currentTime/duration*100\r\n                    progress.style.width=progressNum+\"%\"\r\n                        id=requestAnimationFrame(frame)\r\n                        _this.$store.commit(\"change\",{progressNum,id}) \r\n                    //歌词！\r\n                    if(progressNum<100){\r\n                        for(let i=$len;i<arr.length;i++){\r\n                            if(currentTime>arr[i].time){\r\n                                _this.$store.state.nowIndex=i;\r\n                                _this.$store.state.nowObj=arr[i];\r\n                                $len=i;\r\n                            }\r\n                        }                        \r\n                    }else{\r\n                        cancelAnimationFrame(id)\r\n                    } \r\n                }\r\n                \r\n            }\r\n            \r\n       }\r\n   }\r\n</script>\r\n\r\n<style scoped>\r\n    .songList{\r\n        width: 100%;\r\n        padding-bottom: 70px;\r\n        background: #f8f8f8;\r\n\r\n    }\r\n    .songList .total{\r\n       color: grey;\r\n       font-size: 12px;\r\n       padding:10px 10px 0;\r\n    }\r\n    .song-info{\r\n        padding:13px 10px;\r\n        display: flex;\r\n        background: #f8f8f8;\r\n    }\r\n    .songList .song-info .num{\r\n        display: inline-block;\r\n        height: 100%;\r\n        text-align: center;\r\n        color: #f56273;\r\n        font-size: 14px;\r\n        flex: 1;\r\n        line-height: 39px;\r\n        padding-right:10px;\r\n        box-sizing: border-box;\r\n    }\r\n    .songList .song-info .center{\r\n        display: inline-block;\r\n        font-size: 14px;\r\n        flex: 12\r\n    }\r\n    .songList .song-info .center p{\r\n        padding-bottom: 2px\r\n    }\r\n    .singer{\r\n        font-size: 12px;\r\n        color: rgba(0,0,0,.4)\r\n    }\r\n    .songList .song-info .download{\r\n        display: inline-block;\r\n        font-size: 12px;\r\n        color: #b3b3b3;\r\n        flex:1;\r\n        font-size: 18px;\r\n        font-weight: 700;\r\n        line-height: 39px;\r\n    }\r\n\r\n\r\n    #songlist{\r\n        width: 100%;\r\n        background: #f8f8f8;\r\n        height: 100vh;\r\n    }\r\n    header{\r\n        width: 100%;\r\n        height: 50px;\r\n        background: #f8f8f8;\r\n        position: fixed;\r\n    }\r\n    header img{\r\n        position: absolute;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        right: 15px;\r\n        width: 30px;\r\n        \r\n    }\r\n    .info{\r\n        text-align: center;\r\n    }\r\n    .back{\r\n        line-height: 50px;\r\n        padding: 15px 10px;\r\n        color: rgba(0, 0, 0, 0.315);\r\n        font-weight: 700;\r\n        font-size: 30px;\r\n        letter-spacing: 2px;\r\n    }\r\n    .bg{\r\n        width: 100%;\r\n        padding-top: 60px;\r\n        text-align: center;\r\n    }\r\n    .bg img{\r\n        width: 50%;\r\n        border-radius: 20px;\r\n         box-shadow: 0 7px 13px rgba(0,0,0,.21);\r\n    }\r\n    .title{\r\n        text-align: center;\r\n        padding: 20px 0;\r\n        font-size: 18px;\r\n    }\r\n    .day{\r\n         text-align: center;\r\n         font-size: 16px\r\n    }\r\n    .updata{\r\n        text-align: center;\r\n        font-size: 14px;\r\n        color: grey;\r\n        padding: 15px;\r\n    }\r\n    button{\r\n        padding: 9px 85px;\r\n        background: #22d59c;\r\n        border: none;\r\n        border-radius: 50px;\r\n        box-shadow: 0 6px 32px rgba(24,213,156,.5);\r\n    }\r\n    button span{\r\n        color: #fff;\r\n        font-size: 20px;\r\n    }\r\n\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./SongRank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!./SongRank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongRank.vue?vue&type=template&id=92cd68c0&scoped=true&\"\nimport script from \"./SongRank.vue?vue&type=script&lang=js&\"\nexport * from \"./SongRank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongRank.vue?vue&type=style&index=0&id=92cd68c0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92cd68c0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}